<div class="blog">
    <h3>结构型模式(Structural Pattern)之代理模式(Proxy Pattern)</h3>
    <pre>
    定义:给某一个对象提供一个代理或占位符，并由代理对象来控制对原对象的访问。
    </pre>
    <img class="imgh" src="http://img.my.csdn.net/uploads/201211/26/1353942400_6301.jpg">
    <pre>
    abstract class Subject
    {
        public abstract void Request();
    }
    class RealSubject : Subject
    {
        public override void Request()
        {
            //业务方法具体实现代码
        }
    }
    class Proxy : Subject
    {
        private RealSubject realSubject = new RealSubject(); //维持一个对真实主题对象的引用

        public void PreRequest()
        {
            …...
        }

        public override void Request()
        {
            PreRequest();
            realSubject.Request(); //调用真实主题对象的方法
             PostRequest();
        }

        public void PostRequest()
        {
            ……
        }
    }

    </pre>
    <h5>总结:</h5>
    <pre>
    优点:
        (1) 能够协调调用者和被调用者，在一定程度上降低了系统的耦合度。
        (2) 客户端可以针对抽象主题角色进行编程，增加和更换代理类无须修改源代码，符合开闭原则，系统具有较好的灵活性和可扩展性。

    缺点:
        (1) 由于在客户端和真实主题之间增加了代理对象，因此有些类型的代理模式可能会造成请求的处理速度变慢，例如保护代理。
        (2) 实现代理模式需要额外的工作，而且有些代理模式的实现过程较为复杂，例如远程代理。

    使用场景:
        (1) 当客户端对象需要访问远程主机中的对象时可以使用远程代理。
        (2) 当需要用一个消耗资源较少的对象来代表一个消耗资源较多的对象，从而降低系统开销、缩短运行时间时可以使用虚拟代理，
            例如一个对象需要很长时间才能完成加载时。
        (3) 当需要为某一个被频繁访问的操作结果提供一个临时存储空间，以供多个客户端共享访问这些结果时可以使用缓冲代理。
            通过使用缓冲代理，系统无须在客户端每一次访问时都重新执行操作，只需直接从临时缓冲区获取操作结果即可。
        (4) 当需要控制对一个对象的访问，为不同用户提供不同级别的访问权限时可以使用保护代理。
        (5) 当需要为一个对象的访问（引用）提供一些额外的操作时可以使用智能引用代理。

    </pre>
    
    <div id="disqus_thread"></div>
<script>
    /**
     * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    var disqus_config = function () {
        this.page.url = 'http://michaelygzhang.github.io/home/'; // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = 'proxy'; //注意这里要修改 Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };

    (function() { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//michaelzhangblog.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
</div>
